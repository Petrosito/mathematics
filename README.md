# Лабораторная работа 3: Прототип приложения

## Исполнитель
Ованнисян Петрос Абгарович  
Группа: СГН3-44Б 

## Описание API
1. **Описание работы API**
   - Данное приложение является RESTful API, которое собирает данные из различных источников и хранит их в базе данных MongoDB.

2. **Конфигурация**
   - В файле конфигурации определены следующие переменные:
     * `MONGO_URI`: URI для подключения к MongoDB
     * `DATABASE_NAME`: имя базы данных
     * `DOG_API_KEY`, `CAT_API_KEY`, `EXCHANGE_RATE_API_KEY`: API-ключи для доступа к соответствующим сервисам

3. **Функциональность**
   - API имеет пять эндпоинтов:
     * `/dog`: Получает данные о собаках из The Dog API
     * `/cat`: Получает данные о кошках из The Cat API
     * `/exchange_rate`: Получает данные о курсе обмена валют из ExchangeRate API
     * `/mathematics`: Парсит данные с веб-сайта по математике
     * `/quotes`: Парсит цитаты с веб-сайта Quotes to Scrape

## Описание ресурсов для парсинга
1. **Mathematics Website**
   - URL: https://petrosito.github.io/mathematics/
   - Описание: Веб-страница содержит различные математические темы.
   - Данные: Заголовок и параграфы.

2. **Quotes to Scrape**
   - URL: http://quotes.toscrape.com/
   - Описание: Веб-страница, содержащая набор цитат.
   - Данные: Цитаты, авторы и теги.

## Описание коллекций БД
- `dog_data`: Содержит данные о собаках (изображения, идентификаторы и т.д.).
- `cat_data`: Содержит данные о кошках.
- `exchange_rate_data`: Содержит текущие курсы валют.
- `my_data`: Содержит заголовок и параграфы из веб-сайта по математике.
- `quotes_data`: Содержит собранные цитаты, их авторов и теги.

## Документация API с помощью Swagger
- API также имеет встроенную документацию с помощью Swagger, доступную по адресу `http://localhost:5000/swagger`. Swagger позволяет просматривать и тестировать эндпоинты API в интерактивном режиме.

## Тестирование API с помощью Postman
- API также может быть протестировано с помощью Postman, популярного инструмента для тестирования API.

## Алгоритм работы кода
1. Подключение к базе данных MongoDB.
2. Запуск функций для извлечения данных из API и веб-страниц:
   - `get_dog_data()`: Запрос к Dog API для получения изображений собак.
   - `get_cat_data()`: Запрос к Cat API для получения изображений кошек.
   - `get_exchange_rate_data()`: Запрос к Exchange Rate API для получения курсов валют.
   - `parse_mathematics_website()`: Парсинг веб-страницы по математике для извлечения заголовка и текста.
   - `parse_quotes_to_scrape()`: Парсинг страниц с цитатами для извлечения цитат, авторов и тегов.
3. Сохранение извлеченных данных в соответствующие коллекции MongoDB.
4. Обработка ошибок на каждом этапе для предотвращения падения программы.
